{"ast":null,"code":"import _slicedToArray from\"/Users/charlottecetre/Desktop/Macron business/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles,withStyles}from\"@material-ui/styles\";import{Typography,Grid,Card,Button,CardHeader,CardContent,CardActions,Chip}from\"@material-ui/core\";import{getIndexesAPI,updateIndexesAPI,saveNewIndex,getTemplatesAPI}from\"request/settingsAPI\";import TemplateShow from\"./TemplateShow\";import{useHistory}from\"react-router-dom\";import{FaceOutlined}from\"@material-ui/icons\";var useStyles=makeStyles(function(theme){return{root:{},button:{marginBottom:30},titleCell:{marginBottom:10},cellRight:{textAlign:\"right\",paddingRight:25},content:{display:\"flex\",flexWrap:\"wrap\",\"& > *\":{margin:theme.spacing(0.5)}}};});var Templates=function Templates(props){var classes=useStyles();var history=useHistory();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),listTemplate=_useState2[0],setTemplates=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showTemplate=_useState4[0],setShowTemplate=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),selectTemplate=_useState6[0],setSelectTemplate=_useState6[1];function getTemplates(){getTemplatesAPI(function(response){setTemplates(response);});}function editTemplate(id){history.push(\"/settings/template/\".concat(id));}function handleShowTemplate(template){setSelectTemplate(template);setShowTemplate(true);}useEffect(function(){getTemplates();},[]);return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(TemplateShow,{open:showTemplate,template:selectTemplate,onClose:function onClose(pedal){setShowTemplate(false);}}),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:5},/*#__PURE__*/React.createElement(Grid,{item:true,lg:6,md:6,xs:6,className:classes.title},/*#__PURE__*/React.createElement(Typography,{variant:\"h1\"},\"Les templates\"),/*#__PURE__*/React.createElement(Typography,{variant:\"body1\"},\"Ici tu peux modifier les locataires des logements ainsi qu'ajouter un logement via le button ajouter.\")),/*#__PURE__*/React.createElement(Grid,{item:true,lg:6,md:6,xs:6,className:classes.cellRight},/*#__PURE__*/React.createElement(Button,{variant:\"contained\"},\"Ajouter un template\")),listTemplate!==null&&Object.values(listTemplate).map(function(template){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Grid,{item:true,lg:4,md:4,xs:4,className:classes.title},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,{title:template.name}),/*#__PURE__*/React.createElement(CardContent,{className:classes.content},/*#__PURE__*/React.createElement(Chip,{icon:/*#__PURE__*/React.createElement(FaceOutlined,null),label:template.type}),/*#__PURE__*/React.createElement(Chip,{label:template.whom})),/*#__PURE__*/React.createElement(CardActions,null,/*#__PURE__*/React.createElement(Button,{variant:\"contained\",onClick:function onClick(){return handleShowTemplate(template);}},\"Voir\"),/*#__PURE__*/React.createElement(Button,{variant:\"contained\",onClick:function onClick(){return editTemplate(template.id);}},\"Modifier\")))));})));};export default Templates;","map":{"version":3,"sources":["/Users/charlottecetre/Desktop/Macron business/src/views/Settings/Components/Templates.js"],"names":["React","useState","useEffect","makeStyles","withStyles","Typography","Grid","Card","Button","CardHeader","CardContent","CardActions","Chip","getIndexesAPI","updateIndexesAPI","saveNewIndex","getTemplatesAPI","TemplateShow","useHistory","FaceOutlined","useStyles","theme","root","button","marginBottom","titleCell","cellRight","textAlign","paddingRight","content","display","flexWrap","margin","spacing","Templates","props","classes","history","listTemplate","setTemplates","showTemplate","setShowTemplate","selectTemplate","setSelectTemplate","getTemplates","response","editTemplate","id","push","handleShowTemplate","template","pedal","title","Object","values","map","name","type","whom"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/styles\";\nimport { func } from \"prop-types\";\nimport {\n  Typography,\n  Grid,\n  Card,\n  Button,\n  CardHeader,\n  CardContent,\n  CardActions,\n  Chip,\n} from \"@material-ui/core\";\nimport {\n  getIndexesAPI,\n  updateIndexesAPI,\n  saveNewIndex,\n  getTemplatesAPI,\n} from \"request/settingsAPI\";\nimport TemplateShow from \"./TemplateShow\";\nimport { useHistory } from \"react-router-dom\";\nimport { FaceOutlined } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {},\n  button: {\n    marginBottom: 30,\n  },\n  titleCell: {\n    marginBottom: 10,\n  },\n  cellRight: {\n    textAlign: \"right\",\n    paddingRight: 25,\n  },\n  content: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    \"& > *\": {\n      margin: theme.spacing(0.5),\n    },\n  },\n}));\n\nconst Templates = (props) => {\n  const classes = useStyles();\n  let history = useHistory();\n  const [listTemplate, setTemplates] = useState({});\n  const [showTemplate, setShowTemplate] = useState(false);\n  const [selectTemplate, setSelectTemplate] = useState(false);\n\n  function getTemplates() {\n    getTemplatesAPI((response) => {\n      setTemplates(response);\n    });\n  }\n\n  function editTemplate(id) {\n    history.push(`/settings/template/${id}`);\n  }\n\n  function handleShowTemplate(template) {\n    setSelectTemplate(template);\n    setShowTemplate(true);\n  }\n\n  useEffect(() => {\n    getTemplates();\n  }, []);\n\n  return (\n    <div className={classes.root}>\n      <TemplateShow\n        open={showTemplate}\n        template={selectTemplate}\n        onClose={(pedal) => {\n          setShowTemplate(false);\n        }}\n      />\n      <Grid container spacing={5}>\n        <Grid item lg={6} md={6} xs={6} className={classes.title}>\n          <Typography variant=\"h1\">Les templates</Typography>\n          <Typography variant=\"body1\">\n            Ici tu peux modifier les locataires des logements ainsi qu'ajouter\n            un logement via le button ajouter.\n          </Typography>\n        </Grid>\n        <Grid item lg={6} md={6} xs={6} className={classes.cellRight}>\n          <Button variant=\"contained\">Ajouter un template</Button>\n        </Grid>\n        \n        {listTemplate !== null && Object.values(listTemplate).map((template) => (\n          <>\n            <Grid item lg={4} md={4} xs={4} className={classes.title}>\n              <Card>\n                <CardHeader title={template.name} />\n                <CardContent className={classes.content}>\n                  <Chip icon={<FaceOutlined />} label={template.type}  />\n                  <Chip label={template.whom}  />\n                </CardContent>\n                <CardActions>\n                  <Button\n                    variant=\"contained\"\n                    onClick={() => handleShowTemplate(template)}\n                  >\n                    Voir\n                  </Button>\n                  <Button\n                    variant=\"contained\"\n                    onClick={() => editTemplate(template.id)}\n                  >\n                    Modifier\n                  </Button>\n                </CardActions>\n              </Card>\n            </Grid>\n          </>\n        ))}\n      </Grid>\n    </div>\n  );\n};\n\nexport default Templates;\n"]},"metadata":{},"sourceType":"module"}