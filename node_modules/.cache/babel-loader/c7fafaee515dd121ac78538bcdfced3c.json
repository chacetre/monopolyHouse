{"ast":null,"code":"import _defineProperty from\"/Users/charlottecetre/Desktop/Macron business/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/charlottecetre/Desktop/Macron business/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/charlottecetre/Desktop/Macron business/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/charlottecetre/Desktop/Macron business/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useState,useEffect}from\"react\";import clsx from\"clsx\";import{makeStyles}from\"@material-ui/styles\";import{Card,CardHeader,CardContent,CardActions,Divider,Grid,Button,TextField,Radio,RadioGroup,FormControlLabel}from\"@material-ui/core\";import{useOwner}from\"../../../../context/owner\";import{updateOwner}from\"request/ownerAPI\";var useStyles=makeStyles(function(){return{root:{}};});var AccountDetails=function AccountDetails(props){var className=props.className,rest=_objectWithoutProperties(props,[\"className\"]);var classes=useStyles();var _useOwner=useOwner(),ownerInformations=_useOwner.ownerInformations;var _useState=useState({firstname:\"\",lastname:\"\",address:\"\"}),_useState2=_slicedToArray(_useState,2),localOwner=_useState2[0],setLocalOwner=_useState2[1];var handleChange=function handleChange(event){console.log(event.target.value);setLocalOwner(_objectSpread(_objectSpread({},localOwner),{},_defineProperty({},event.target.name,event.target.value)));};var handleAddress=function handleAddress(event){setLocalOwner(_objectSpread(_objectSpread({},localOwner),{},{address:_objectSpread(_objectSpread({},localOwner.address),{},_defineProperty({},event.target.name,event.target.value.toLowerCase()))}));};function handleUpdateOwner(){console.log(localOwner);updateOwner(localOwner);}useEffect(function(){if(ownerInformations!==undefined){console.log(\"owner\",ownerInformations);setLocalOwner(ownerInformations);}},[ownerInformations]);return/*#__PURE__*/React.createElement(Card,Object.assign({},rest,{className:clsx(classes.root,className)}),/*#__PURE__*/React.createElement(\"form\",{autoComplete:\"off\",noValidate:true},/*#__PURE__*/React.createElement(CardHeader,{title:\"Profil\"}),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(CardContent,null,/*#__PURE__*/React.createElement(Grid,{container:true,spacing:1},/*#__PURE__*/React.createElement(Grid,{item:true,md:12,xs:12},/*#__PURE__*/React.createElement(RadioGroup,{row:true,name:\"isSociety\",defaultValue:\"top\",onChange:handleChange,className:classes.center},/*#__PURE__*/React.createElement(FormControlLabel,{value:\"false\",control:/*#__PURE__*/React.createElement(Radio,{color:\"secondary\",checked:Boolean(localOwner.isSociety)===false}),label:\"Particulier\",labelPlacement:\"right\",disabled:false}),/*#__PURE__*/React.createElement(FormControlLabel,{value:\"true\",control:/*#__PURE__*/React.createElement(Radio,{color:\"secondary\",checked:Boolean(localOwner.isSociety)===true}),label:\"Entreprise\",disabled:false,labelPlacement:\"right\"}))),/*#__PURE__*/React.createElement(Grid,{item:true,md:12,xs:12},/*#__PURE__*/React.createElement(RadioGroup,{row:true,name:\"civility\",defaultValue:\"top\",onChange:handleChange,className:classes.center},/*#__PURE__*/React.createElement(FormControlLabel,{value:\"m\",control:/*#__PURE__*/React.createElement(Radio,{color:\"secondary\",checked:localOwner.civility===\"m\"}),label:\"M.\",labelPlacement:\"right\",disabled:false}),/*#__PURE__*/React.createElement(FormControlLabel,{value:\"mme\",control:/*#__PURE__*/React.createElement(Radio,{color:\"secondary\",checked:localOwner.civility===\"mme\"}),label:\"Mme\",disabled:false,labelPlacement:\"right\"}))),/*#__PURE__*/React.createElement(Grid,{item:true,md:6,xs:12},/*#__PURE__*/React.createElement(TextField,{fullWidth:true,helperText:\"Please specify the first name\",label:\"Pr\\xE9nom\",margin:\"dense\",name:\"firstname\",onChange:handleChange,required:true,value:localOwner.firstname||\"\",variant:\"outlined\"})),/*#__PURE__*/React.createElement(Grid,{item:true,md:6,xs:12},/*#__PURE__*/React.createElement(TextField,{fullWidth:true,label:\"Nom\",margin:\"dense\",name:\"lastname\",onChange:handleChange,required:true,value:localOwner.lastname||\"\",variant:\"outlined\"})),/*#__PURE__*/React.createElement(Grid,{item:true,md:12,xs:12},/*#__PURE__*/React.createElement(TextField,{fullWidth:true,label:\"Numero et rue\",margin:\"dense\",name:\"street\",onChange:handleAddress,value:localOwner.address.street||\"\",required:true,variant:\"outlined\"})),/*#__PURE__*/React.createElement(Grid,{item:true,md:3,xs:6},/*#__PURE__*/React.createElement(TextField,{fullWidth:true,label:\"Code postal\",margin:\"dense\",name:\"postalCode\",onChange:handleAddress,value:localOwner.address.postalCode||\"\",required:true,variant:\"outlined\"})),/*#__PURE__*/React.createElement(Grid,{item:true,md:9,xs:6},/*#__PURE__*/React.createElement(TextField,{fullWidth:true,label:\"Ville\",margin:\"dense\",name:\"city\",onChange:handleAddress,value:localOwner.address.city||\"\",required:true,variant:\"outlined\"})))),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(CardActions,null,/*#__PURE__*/React.createElement(Button,{color:\"primary\",variant:\"contained\",onClick:handleUpdateOwner},\"Sauvegarder\"))));};export default AccountDetails;","map":{"version":3,"sources":["/Users/charlottecetre/Desktop/Macron business/src/views/Account/components/AccountDetails/AccountDetails.js"],"names":["React","useState","useEffect","clsx","makeStyles","Card","CardHeader","CardContent","CardActions","Divider","Grid","Button","TextField","Radio","RadioGroup","FormControlLabel","useOwner","updateOwner","useStyles","root","AccountDetails","props","className","rest","classes","ownerInformations","firstname","lastname","address","localOwner","setLocalOwner","handleChange","event","console","log","target","value","name","handleAddress","toLowerCase","handleUpdateOwner","undefined","center","Boolean","isSociety","civility","street","postalCode","city"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport {\n  Card,\n  CardHeader,\n  CardContent,\n  CardActions,\n  Divider,\n  Grid,\n  Button,\n  TextField,\n  Radio,\n  RadioGroup,\n  FormControlLabel,\n} from \"@material-ui/core\";\nimport { useOwner } from \"../../../../context/owner\";\nimport { updateOwner } from \"request/ownerAPI\";\n\nconst useStyles = makeStyles(() => ({\n  root: {},\n}));\n\nconst AccountDetails = (props) => {\n  const { className, ...rest } = props;\n  const classes = useStyles();\n  const { ownerInformations } = useOwner();\n  const [localOwner, setLocalOwner] = useState({\n    firstname: \"\",\n    lastname: \"\",\n    address: \"\",\n  });\n\n  const handleChange = (event) => {\n    console.log(event.target.value)\n    setLocalOwner({\n      ...localOwner,\n      [event.target.name]: event.target.value,\n    });\n  };\n\n  const handleAddress = (event) => {\n    setLocalOwner({\n      ...localOwner,\n      address: {\n        ...localOwner.address,\n        [event.target.name]: event.target.value.toLowerCase(),\n      }\n    });\n  };\n\n  function handleUpdateOwner(){\n    console.log(localOwner)\n    updateOwner(localOwner)\n  }\n\n  useEffect(() => {\n    if (ownerInformations !== undefined) {\n      console.log(\"owner\", ownerInformations);\n      setLocalOwner(ownerInformations);\n    }\n  }, [ownerInformations]);\n\n  return (\n    <Card {...rest} className={clsx(classes.root, className)}>\n      <form autoComplete=\"off\" noValidate>\n        <CardHeader title=\"Profil\" />\n        <Divider />\n        <CardContent>\n          <Grid container spacing={1}>\n            <Grid item md={12} xs={12}>\n              <RadioGroup\n                row\n                name=\"isSociety\"\n                defaultValue=\"top\"\n                onChange={handleChange}\n                className={classes.center}\n              >\n                <FormControlLabel\n                  value={\"false\"}\n                  control={\n                    <Radio\n                      color=\"secondary\"\n                      checked={Boolean(localOwner.isSociety) === false}\n                    />\n                  }\n                  label=\"Particulier\"\n                  labelPlacement=\"right\"\n                  disabled={false}\n                />\n                <FormControlLabel\n                  value={\"true\"}\n                  control={\n                    <Radio\n                      color=\"secondary\"\n                      checked={Boolean(localOwner.isSociety) === true}\n                    />\n                  }\n                  label=\"Entreprise\"\n                  disabled={false}\n                  labelPlacement=\"right\"\n                />\n              </RadioGroup>\n            </Grid>\n            <Grid item md={12} xs={12}>\n              <RadioGroup\n                row\n                name=\"civility\"\n                defaultValue=\"top\"\n                onChange={handleChange}\n                className={classes.center}\n              >\n                <FormControlLabel\n                  value={\"m\"}\n                  control={\n                    <Radio\n                      color=\"secondary\"\n                      checked={localOwner.civility === \"m\"}\n                    />\n                  }\n                  label=\"M.\"\n                  labelPlacement=\"right\"\n                  disabled={false}\n                />\n                <FormControlLabel\n                  value={\"mme\"}\n                  control={\n                    <Radio\n                      color=\"secondary\"\n                      checked={localOwner.civility === \"mme\"}\n                    />\n                  }\n                  label=\"Mme\"\n                  disabled={false}\n                  labelPlacement=\"right\"\n                />\n              </RadioGroup>\n            </Grid>\n\n            <Grid item md={6} xs={12}>\n              <TextField\n                fullWidth\n                helperText=\"Please specify the first name\"\n                label=\"Prénom\"\n                margin=\"dense\"\n                name=\"firstname\"\n                onChange={handleChange}\n                required\n                value={localOwner.firstname || \"\"}\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item md={6} xs={12}>\n              <TextField\n                fullWidth\n                label=\"Nom\"\n                margin=\"dense\"\n                name=\"lastname\"\n                onChange={handleChange}\n                required\n                value={localOwner.lastname || \"\"}\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item md={12} xs={12}>\n              <TextField\n                fullWidth\n                label=\"Numero et rue\"\n                margin=\"dense\"\n                name=\"street\"\n                onChange={handleAddress}\n                value={localOwner.address.street || \"\"}\n                required\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item md={3} xs={6}>\n              <TextField\n                fullWidth\n                label=\"Code postal\"\n                margin=\"dense\"\n                name=\"postalCode\"\n                onChange={handleAddress}\n                value={localOwner.address.postalCode || \"\"}\n                required\n                variant=\"outlined\"\n              />\n            </Grid>\n            <Grid item md={9} xs={6}>\n              <TextField\n                fullWidth\n                label=\"Ville\"\n                margin=\"dense\"\n                name=\"city\"\n                onChange={handleAddress}\n                value={localOwner.address.city || \"\"}\n                required\n                variant=\"outlined\"\n              />\n            </Grid>\n          </Grid>\n        </CardContent>\n        <Divider />\n        <CardActions>\n          <Button color=\"primary\" variant=\"contained\" onClick={handleUpdateOwner}>\n            Sauvegarder\n          </Button>\n        </CardActions>\n      </form>\n    </Card>\n  );\n};\n\nAccountDetails.propTypes = {\n  className: PropTypes.string,\n};\n\nexport default AccountDetails;\n"]},"metadata":{},"sourceType":"module"}