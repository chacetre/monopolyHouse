{"ast":null,"code":"import _objectWithoutProperties from\"/Users/charlottecetre/Desktop/Macron business/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React from\"react\";import{Route}from\"react-router-dom\";import{Redirect}from\"react-router-dom\";import{useAuth}from\"../../context/auth\";var PrivateRoute=function PrivateRoute(props){var Layout=props.layout,Component=props.component,rest=_objectWithoutProperties(props,[\"layout\",\"component\"]);var _useAuth=useAuth(),authTokens=_useAuth.authTokens;function verifyToken(token){var isValid=true;var dateNow=new Date();if(Number(token)<dateNow.getTime()){isValid=false;localStorage.removeItem(\"tokens\");}return isValid;}return/*#__PURE__*/React.createElement(Route,Object.assign({},rest,{render:function render(matchProps){return verifyToken(authTokens)?/*#__PURE__*/React.createElement(Layout,null,/*#__PURE__*/React.createElement(Component,matchProps)):/*#__PURE__*/React.createElement(Redirect,{to:\"/sign-in\"});}}));};export default PrivateRoute;","map":{"version":3,"sources":["/Users/charlottecetre/Desktop/Macron business/src/components/PrivateRoute/index.js"],"names":["React","Route","Redirect","useAuth","PrivateRoute","props","Layout","layout","Component","component","rest","authTokens","verifyToken","token","isValid","dateNow","Date","Number","getTime","localStorage","removeItem","matchProps"],"mappings":"wLAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,KAAT,KAAsB,kBAAtB,CAEA,OAASC,QAAT,KAAyB,kBAAzB,CACA,OAASC,OAAT,KAAwB,oBAAxB,CAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,IACdC,CAAAA,MADc,CAC4BD,KAD5B,CACtBE,MADsB,CACKC,SADL,CAC4BH,KAD5B,CACNI,SADM,CACmBC,IADnB,0BAC4BL,KAD5B,sCAEPF,OAAO,EAFA,CAEtBQ,UAFsB,UAEtBA,UAFsB,CAI9B,QAASC,CAAAA,WAAT,CAAqBC,KAArB,CAA4B,CAE1B,GAAIC,CAAAA,OAAO,CAAG,IAAd,CACA,GAAIC,CAAAA,OAAO,CAAG,GAAIC,CAAAA,IAAJ,EAAd,CAEA,GAAIC,MAAM,CAACJ,KAAD,CAAN,CAAgBE,OAAO,CAACG,OAAR,EAApB,CAAsC,CACpCJ,OAAO,CAAG,KAAV,CACAK,YAAY,CAACC,UAAb,CAAwB,QAAxB,EACD,CAED,MAAON,CAAAA,OAAP,CACD,CACD,mBACE,oBAAC,KAAD,kBACMJ,IADN,EAEE,MAAM,CAAE,gBAACW,UAAD,QACNT,CAAAA,WAAW,CAACD,UAAD,CAAX,cACE,oBAAC,MAAD,mBACE,oBAAC,SAAD,CAAeU,UAAf,CADF,CADF,cAKE,oBAAC,QAAD,EAAU,EAAE,CAAC,UAAb,EANI,EAFV,GADF,CAcD,CA9BD,CAsCA,cAAejB,CAAAA,YAAf","sourcesContent":["import React from \"react\";\nimport { Route } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport { Redirect } from \"react-router-dom\";\nimport { useAuth } from \"../../context/auth\";\n\nconst PrivateRoute = (props) => {\n  const { layout: Layout, component: Component, ...rest } = props;\n  const { authTokens } = useAuth();\n\n  function verifyToken(token) {\n\n    var isValid = true\n    var dateNow = new Date()\n\n    if (Number(token) < dateNow.getTime()){\n      isValid = false;\n      localStorage.removeItem(\"tokens\")\n    } \n\n    return isValid\n  }\n  return (\n    <Route\n      {...rest}\n      render={(matchProps) =>\n        verifyToken(authTokens) ? (\n          <Layout>\n            <Component {...matchProps} />\n          </Layout>\n        ) : (\n          <Redirect to=\"/sign-in\" />\n        )\n      }\n    />\n  );\n};\n\nPrivateRoute.propTypes = {\n  component: PropTypes.any.isRequired,\n  layout: PropTypes.any.isRequired,\n  path: PropTypes.string,\n};\n\nexport default PrivateRoute;\n"]},"metadata":{},"sourceType":"module"}