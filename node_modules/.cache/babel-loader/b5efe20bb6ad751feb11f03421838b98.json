{"ast":null,"code":"import _slicedToArray from\"/Users/charlottecetre/Desktop/Macron business/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{makeStyles,withStyles}from\"@material-ui/styles\";import{Typography,Grid,Card,CardContent,CardActions,Button,IconButton,CardHeader,TextField,Radio,RadioGroup,FormControlLabel,Paper}from\"@material-ui/core\";import{colors}from\"@material-ui/core\";import ToggleButton from\"@material-ui/lab/ToggleButton\";import ToggleButtonGroup from\"@material-ui/lab/ToggleButtonGroup\";import DeleteRounded from\"@material-ui/icons/DeleteRounded\";import CreateRounded from\"@material-ui/icons/CreateRounded\";import Particulier from\"./Components/Particulier\";import Society from\"./Components/Society\";import{useOwner}from\"../../context/owner\";import AddEstateModal from\"./Components/AddEstateModal\";import CardAccommodation from\"./Components/CardAccomodation\";import{getAccomodationByOwner}from\"request/accomodationAPI\";var useStyles=makeStyles(function(theme){return{root:{padding:theme.spacing(3)},paper:{padding:10},titleBar:{backgroundColor:theme.palette.primary.main,color:colors.grey[50],marginBottom:10,textAlign:\"center\",padding:10},right:{paddingTop:10,textAlign:\"right\"},gridCell:{justifyContent:\"center\"},cellRight:{textAlign:\"right\",paddingRight:25},titleSection:{marginBottom:2,marginLeft:10},textWhite:{color:colors.grey[50]},center:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},container:{padding:15},button:{marginRight:20,marginLeft:20},btnAction:{backgroundColor:theme.palette.action.main,color:theme.palette.white},containerTitle:{paddingTop:10}};});var StyledToggleButtonGroup=withStyles(function(theme){return{grouped:{margin:theme.spacing(1),border:\"none\",background:theme.palette.white,padding:theme.spacing(0,3),\"&:not(:first-child)\":{borderRadius:theme.shape.borderRadius},\"&:first-child\":{borderRadius:theme.shape.borderRadius}},root:{backgroundColor:theme.palette.background.default}};})(ToggleButtonGroup);var Accommodation=function Accommodation(){var classes=useStyles();var _useOwner=useOwner(),ownerInformations=_useOwner.ownerInformations;var _useState=useState(true),_useState2=_slicedToArray(_useState,2),showAddEstateModal=_useState2[0],setShowAddEstateModal=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),component=_useState4[0],setComponent=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),accommodations=_useState6[0],setData=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),listFiltre=_useState8[0],setFiltres=_useState8[1];function getAccommodationsInformations(){if(ownerInformations.id!=undefined){getAccomodationByOwner(ownerInformations.id,function(response){setData(response);});}}var handleComponent=function handleComponent(event,newComponent){setComponent(newComponent);};function handleAddEstate(){setShowAddEstateModal(true);}function suffisammentGrand(element){if(component==\"\"){return true;}return element.address.city==component;}useEffect(function(){getAccommodationsInformations();},[]);useEffect(function(){getAccommodationsInformations();},[ownerInformations]);useEffect(function(){if(accommodations!=undefined){var listTemp=new Array();Object.values(accommodations).forEach(function(element){listTemp.push(element.address.city);});setFiltres(Array.from(new Set(listTemp)));}},[accommodations]);return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,lg:6,md:6,xs:6,className:classes.title},/*#__PURE__*/React.createElement(Typography,{variant:\"h1\"},\"Tes logements\"),/*#__PURE__*/React.createElement(Typography,{variant:\"body1\"},\"Ici tu peux modifier les locataires des logements ainsi qu'ajouter un logement via le button ajouter.\")),/*#__PURE__*/React.createElement(Grid,{item:true,lg:6,md:6,xs:6,className:classes.cellRight},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"secondary\",onClick:handleAddEstate},\" \",\"ajouter un logement\",\" \"))),/*#__PURE__*/React.createElement(AddEstateModal,{open:showAddEstateModal,onClose:function onClose(pedal){setShowAddEstateModal(false);}}),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(StyledToggleButtonGroup,{size:\"small\",value:component,exclusive:true,onChange:handleComponent,\"aria-label\":\"text alignment\",className:classes.center},/*#__PURE__*/React.createElement(ToggleButton,{value:\"\",\"aria-label\":\"left aligned\"},\"Tous\"),listFiltre.map(function(filtre){return/*#__PURE__*/React.createElement(ToggleButton,{value:filtre,\"aria-label\":\"left aligned\"},filtre);}))),/*#__PURE__*/React.createElement(Grid,{container:true,spacing:5},accommodations!==null&&Object.values(accommodations).filter(suffisammentGrand).map(function(product){return/*#__PURE__*/React.createElement(Grid,{item:true,xs:6},/*#__PURE__*/React.createElement(CardAccommodation,{accomodationInfos:product}));})));};export default Accommodation;","map":{"version":3,"sources":["/Users/charlottecetre/Desktop/Macron business/src/views/Accomodation/index.js"],"names":["React","useState","useEffect","makeStyles","withStyles","Typography","Grid","Card","CardContent","CardActions","Button","IconButton","CardHeader","TextField","Radio","RadioGroup","FormControlLabel","Paper","colors","ToggleButton","ToggleButtonGroup","DeleteRounded","CreateRounded","Particulier","Society","useOwner","AddEstateModal","CardAccommodation","getAccomodationByOwner","useStyles","theme","root","padding","spacing","paper","titleBar","backgroundColor","palette","primary","main","color","grey","marginBottom","textAlign","right","paddingTop","gridCell","justifyContent","cellRight","paddingRight","titleSection","marginLeft","textWhite","center","display","alignItems","container","button","marginRight","btnAction","action","white","containerTitle","StyledToggleButtonGroup","grouped","margin","border","background","borderRadius","shape","default","Accommodation","classes","ownerInformations","showAddEstateModal","setShowAddEstateModal","component","setComponent","accommodations","setData","listFiltre","setFiltres","getAccommodationsInformations","id","undefined","response","handleComponent","event","newComponent","handleAddEstate","suffisammentGrand","element","address","city","listTemp","Array","Object","values","forEach","push","from","Set","title","pedal","map","filtre","filter","product"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { makeStyles, withStyles } from \"@material-ui/styles\";\nimport { func } from \"prop-types\";\nimport {\n  Typography,\n  Grid,\n  Card,\n  CardContent,\n  CardActions,\n  Button,\n  IconButton,\n  CardHeader,\n  TextField,\n  Radio,\n  RadioGroup,\n  FormControlLabel,\n  Paper,\n} from \"@material-ui/core\";\nimport { colors } from \"@material-ui/core\";\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\nimport ToggleButtonGroup from \"@material-ui/lab/ToggleButtonGroup\";\nimport DeleteRounded from \"@material-ui/icons/DeleteRounded\";\nimport CreateRounded from \"@material-ui/icons/CreateRounded\";\nimport Particulier from \"./Components/Particulier\";\nimport Society from \"./Components/Society\";\nimport { useOwner } from \"../../context/owner\";\nimport AddEstateModal from \"./Components/AddEstateModal\";\nimport CardAccommodation from \"./Components/CardAccomodation\";\nimport { getAccomodationByOwner } from \"request/accomodationAPI\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3),\n  },\n  paper: {\n    padding: 10,\n  },\n  titleBar: {\n    backgroundColor: theme.palette.primary.main,\n    color: colors.grey[50],\n    marginBottom: 10,\n    textAlign: \"center\",\n    padding: 10,\n  },\n  right: {\n    paddingTop: 10,\n    textAlign: \"right\",\n  },\n  gridCell: {\n    justifyContent: \"center\",\n  },\n  cellRight: {\n    textAlign: \"right\",\n    paddingRight: 25,\n  },\n  titleSection: {\n    marginBottom: 2,\n    marginLeft: 10,\n  },\n  textWhite: {\n    color: colors.grey[50],\n  },\n  center: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n  container: {\n    padding: 15,\n  },\n  button: {\n    marginRight: 20,\n    marginLeft: 20,\n  },\n  btnAction: {\n    backgroundColor: theme.palette.action.main,\n    color: theme.palette.white,\n  },\n  containerTitle: {\n    paddingTop: 10,\n  },\n}));\n\nconst StyledToggleButtonGroup = withStyles((theme) => ({\n  grouped: {\n    margin: theme.spacing(1),\n    border: \"none\",\n    background: theme.palette.white,\n    padding: theme.spacing(0, 3),\n    \"&:not(:first-child)\": {\n      borderRadius: theme.shape.borderRadius,\n    },\n    \"&:first-child\": {\n      borderRadius: theme.shape.borderRadius,\n    },\n  },\n  root: {\n    backgroundColor: theme.palette.background.default,\n  },\n}))(ToggleButtonGroup);\n\nconst Accommodation = () => {\n  const classes = useStyles();\n  const { ownerInformations } = useOwner();\n  const [showAddEstateModal, setShowAddEstateModal] = useState(true);\n  const [component, setComponent] = useState(\"\");\n  const [accommodations, setData] = useState(null);\n  const [listFiltre, setFiltres] = useState([]);\n\n  function getAccommodationsInformations() {\n    if (ownerInformations.id != undefined) {\n      getAccomodationByOwner(ownerInformations.id, (response) => {\n        setData(response);\n      });\n    }\n  }\n\n  const handleComponent = (event, newComponent) => {\n    setComponent(newComponent);\n  };\n\n  function handleAddEstate() {\n    setShowAddEstateModal(true);\n  }\n\n  function suffisammentGrand(element) {\n    if (component == \"\") {\n      return true;\n    }\n    return element.address.city == component;\n  }\n\n  useEffect(() => {\n    getAccommodationsInformations();\n  }, []);\n\n  useEffect(() => {\n    getAccommodationsInformations();\n  }, [ownerInformations]);\n\n  useEffect(() => {\n    if (accommodations != undefined) {\n      var listTemp = new Array();\n      Object.values(accommodations).forEach((element) => {\n        listTemp.push(element.address.city);\n      });\n\n      setFiltres(Array.from(new Set(listTemp)));\n    }\n  }, [accommodations]);\n\n  return (\n    <div className={classes.root}>\n      <Grid container>\n        <Grid item lg={6} md={6} xs={6} className={classes.title}>\n          <Typography variant=\"h1\">Tes logements</Typography>\n          <Typography variant=\"body1\">\n            Ici tu peux modifier les locataires des logements ainsi qu'ajouter\n            un logement via le button ajouter.\n          </Typography>\n        </Grid>\n        <Grid item lg={6} md={6} xs={6} className={classes.cellRight}>\n          <Button\n            variant=\"contained\"\n            color=\"secondary\"\n            onClick={handleAddEstate}\n          >\n            {\" \"}\n            ajouter un logement{\" \"}\n          </Button>\n        </Grid>\n      </Grid>\n\n      <AddEstateModal\n        open={showAddEstateModal}\n        onClose={(pedal) => {\n          setShowAddEstateModal(false);\n        }}\n      />\n\n      <div>\n        <StyledToggleButtonGroup\n          size=\"small\"\n          value={component}\n          exclusive\n          onChange={handleComponent}\n          aria-label=\"text alignment\"\n          className={classes.center}\n        >\n          <ToggleButton value={\"\"} aria-label=\"left aligned\">\n            Tous\n          </ToggleButton>\n          {listFiltre.map((filtre) => (\n            <ToggleButton value={filtre} aria-label=\"left aligned\">\n              {filtre}\n            </ToggleButton>\n          ))}\n        </StyledToggleButtonGroup>\n      </div>\n      <Grid container spacing={5}>\n        {accommodations !== null &&\n          Object.values(accommodations)\n            .filter(suffisammentGrand)\n            .map((product) => (\n              <Grid item xs={6}>\n                <CardAccommodation accomodationInfos={product} />\n              </Grid>\n            ))}\n      </Grid>\n    </div>\n  );\n};\n\nexport default Accommodation;\n"]},"metadata":{},"sourceType":"module"}