{"ast":null,"code":"import _slicedToArray from\"/Users/charlottecetre/Desktop/Macron business/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"/Users/charlottecetre/Desktop/Macron business/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useState,useEffect}from\"react\";import{Link as RouterLink}from\"react-router-dom\";import clsx from\"clsx\";import{makeStyles}from\"@material-ui/styles\";import{AppBar,Toolbar,Select,InputLabel,MenuItem,FormControl,Grid}from\"@material-ui/core\";import{getOwnerDataBase}from\"request/ownerAPI\";import{useOwner}from\"context/owner\";var useStyles=makeStyles(function(theme){return{root:{boxShadow:\"none\",backgroundColor:theme.palette.secondary.main},flexGrow:{flexGrow:1},signOutButton:{marginLeft:theme.spacing(1)},title:{color:theme.palette.white,fontSize:20,maxHeight:40},rootLink:{display:\"flex\",alignItems:\"center\",textAlign:\"center\",padding:10},rightSide:{textAlign:\"right\",padding:5},formControl:{minWidth:200,paddingTop:10,paddingRight:40,borderColor:theme.palette.secondary.main}};});var Topbar=function Topbar(props){var className=props.className,onSidebarOpen=props.onSidebarOpen,rest=_objectWithoutProperties(props,[\"className\",\"onSidebarOpen\"]);var classes=useStyles();var _useOwner=useOwner(),setOwnerInformations=_useOwner.setOwnerInformations,ownerInformations=_useOwner.ownerInformations;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),owners=_useState2[0],setData=_useState2[1];function getBossInformations(){getOwnerDataBase(function(response){setData(response);});}function handleChangeUser(event){var currentOwner=Object.values(owners).find(function(user){return user.id=event.target.value;});setOwnerInformations(currentOwner);};useEffect(function(){getBossInformations();},[ownerInformations]);return/*#__PURE__*/React.createElement(AppBar,Object.assign({},rest,{className:clsx(classes.root,className)}),/*#__PURE__*/React.createElement(Toolbar,null,/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,xs:6},/*#__PURE__*/React.createElement(RouterLink,{className:classes.rootLink,to:\"/\"},/*#__PURE__*/React.createElement(\"img\",{alt:\"Logo\",src:\"/images/logos/logo_houses_white.svg\",width:\"200\"}))),/*#__PURE__*/React.createElement(Grid,{item:true,xs:6,className:classes.rightSide},/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",className:classes.formControl},/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",fullWidth:true,label:\"Age\",value:ownerInformations.id,onChange:handleChangeUser,autoWidth:false,className:classes.title},owners!==null&&Object.values(owners).map(function(owner){return/*#__PURE__*/React.createElement(MenuItem,{value:owner.id},!owner.isParticulier?owner.firstname+\" \"+owner.lastname:owner.socialIdentity);})))))));};export default Topbar;","map":{"version":3,"sources":["/Users/charlottecetre/Desktop/Macron business/src/layouts/Main/components/Topbar/Topbar.js"],"names":["React","useState","useEffect","Link","RouterLink","clsx","makeStyles","AppBar","Toolbar","Select","InputLabel","MenuItem","FormControl","Grid","getOwnerDataBase","useOwner","useStyles","theme","root","boxShadow","backgroundColor","palette","secondary","main","flexGrow","signOutButton","marginLeft","spacing","title","color","white","fontSize","maxHeight","rootLink","display","alignItems","textAlign","padding","rightSide","formControl","minWidth","paddingTop","paddingRight","borderColor","Topbar","props","className","onSidebarOpen","rest","classes","setOwnerInformations","ownerInformations","owners","setData","getBossInformations","response","handleChangeUser","event","currentOwner","Object","values","find","user","id","target","value","map","owner","isParticulier","firstname","lastname","socialIdentity"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport clsx from \"clsx\";\nimport PropTypes from \"prop-types\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport {\n  AppBar,\n  Toolbar,\n  Select,\n  InputLabel,\n  MenuItem,\n  FormControl,\n  Grid,\n} from \"@material-ui/core\";\nimport { getOwnerDataBase } from \"request/ownerAPI\";\nimport { useOwner } from \"context/owner\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    boxShadow: \"none\",\n    backgroundColor: theme.palette.secondary.main,\n  },\n  flexGrow: {\n    flexGrow: 1,\n  },\n  signOutButton: {\n    marginLeft: theme.spacing(1),\n  },\n  title: {\n    color: theme.palette.white,\n    fontSize: 20,\n    maxHeight: 40,\n  },\n  rootLink: {\n    display: \"flex\",\n    alignItems: \"center\",\n    textAlign: \"center\",\n    padding: 10,\n  },\n  rightSide: {\n    textAlign: \"right\",\n    padding: 5,\n  },\n  formControl: {\n    minWidth: 200,\n    paddingTop: 10,\n    paddingRight: 40,\n    borderColor: theme.palette.secondary.main,\n  },\n}));\n\nconst Topbar = (props) => {\n  const { className, onSidebarOpen, ...rest } = props;\n  const classes = useStyles();\n  const { setOwnerInformations, ownerInformations } = useOwner();\n  const [owners, setData] = useState(null);\n\n  function getBossInformations() {\n    getOwnerDataBase((response) => {\n      setData(response);\n    });\n  }\n\n  function handleChangeUser(event)  {\n    var currentOwner = Object.values(owners).find((user) => user.id = event.target.value)\n    setOwnerInformations(currentOwner);\n  };\n\n  useEffect(() => {\n    getBossInformations();\n  }, [ownerInformations]);\n\n  return (\n    <AppBar {...rest} className={clsx(classes.root, className)}>\n      <Toolbar>\n        <Grid container>\n          <Grid item xs={6}>\n            <RouterLink className={classes.rootLink} to=\"/\">\n              <img\n                alt=\"Logo\"\n                src=\"/images/logos/logo_houses_white.svg\"\n                width=\"200\"\n              />\n            </RouterLink>\n          </Grid>\n          <Grid item xs={6} className={classes.rightSide}>\n            <FormControl variant=\"outlined\" className={classes.formControl}>\n              <Select\n                labelId=\"demo-simple-select-outlined-label\"\n                id=\"demo-simple-select-outlined\"\n                fullWidth\n                label=\"Age\"\n                value={ownerInformations.id}\n                onChange={handleChangeUser}\n                autoWidth={false}\n                className={classes.title}\n              >\n                {owners !== null &&\n                  Object.values(owners).map((owner) => (\n                    <MenuItem value={owner.id}>\n                      {!owner.isParticulier ? owner.firstname + \" \" + owner.lastname : owner.socialIdentity} \n                    </MenuItem>\n                  ))}\n        \n              </Select>\n            </FormControl>\n          </Grid>\n        </Grid>\n      </Toolbar>\n    </AppBar>\n  );\n};\n\nTopbar.propTypes = {\n  className: PropTypes.string,\n  onSidebarOpen: PropTypes.func,\n};\n\nexport default Topbar;\n"]},"metadata":{},"sourceType":"module"}