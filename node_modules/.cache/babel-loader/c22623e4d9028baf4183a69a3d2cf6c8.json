{"ast":null,"code":"import Firebase from\"firebase\";export var saveNewComponentInDataBase=function saveNewComponentInDataBase(owner,id){var existingUser=JSON.parse(localStorage.getItem(\"logged_user\"));Firebase.database().ref(existingUser+\"/owners/\"+id).set({id:id,civility:null,lastname:null,firstname:null,isSociety:true,socialIdentity:owner.socialIdentity,address:{postalCode:owner.postalCode,city:owner.city,street:owner.street},isOwner:true});};export var deleteValueInDataBase=function deleteValueInDataBase(type,soustype,index){Firebase.database().ref(\"/stock/componentsStock/\".concat(type,\"/\").concat(soustype,\"/\").concat(index)).set(null);console.log(\"DATA SAVED\");};export var updateOwner=function updateOwner(owner){var existingUser=JSON.parse(localStorage.getItem(\"logged_user\"));Firebase.database().ref(\"\".concat(existingUser,\"/owners/\").concat(owner.id)).set(owner);console.log(\"DATA SAVED\");};export var getOwnerDataBase=function getOwnerDataBase(callback){var existingUser=JSON.parse(localStorage.getItem(\"logged_user\"));var ref=Firebase.database().ref(existingUser+\"/owners\");ref.on(\"value\",function(snapshot){var data=snapshot.val();callback(data);});};","map":{"version":3,"sources":["/Users/charlottecetre/Desktop/Macron business/src/request/ownerAPI.js"],"names":["Firebase","saveNewComponentInDataBase","owner","id","existingUser","JSON","parse","localStorage","getItem","database","ref","set","civility","lastname","firstname","isSociety","socialIdentity","address","postalCode","city","street","isOwner","deleteValueInDataBase","type","soustype","index","console","log","updateOwner","getOwnerDataBase","callback","on","snapshot","data","val"],"mappings":"AAAA,MAAOA,CAAAA,QAAP,KAAqB,UAArB,CAGA,MAAO,IAAMC,CAAAA,0BAA0B,CAAG,QAA7BA,CAAAA,0BAA6B,CAACC,KAAD,CAAQC,EAAR,CAAe,CACvD,GAAMC,CAAAA,YAAY,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAArB,CACAR,QAAQ,CAACS,QAAT,GAAoBC,GAApB,CAAwBN,YAAY,CAAG,UAAf,CAA4BD,EAApD,EAAwDQ,GAAxD,CAA4D,CAC1DR,EAAE,CAAEA,EADsD,CAE1DS,QAAQ,CAAE,IAFgD,CAG1DC,QAAQ,CAAE,IAHgD,CAI1DC,SAAS,CAAE,IAJ+C,CAK1DC,SAAS,CAAE,IAL+C,CAM1DC,cAAc,CAAEd,KAAK,CAACc,cANoC,CAO1DC,OAAO,CAAE,CACPC,UAAU,CAAEhB,KAAK,CAACgB,UADX,CAEPC,IAAI,CAAEjB,KAAK,CAACiB,IAFL,CAGPC,MAAM,CAAElB,KAAK,CAACkB,MAHP,CAPiD,CAY1DC,OAAO,CAAE,IAZiD,CAA5D,EAcD,CAhBM,CAkBP,MAAO,IAAMC,CAAAA,qBAAqB,CAAG,QAAxBA,CAAAA,qBAAwB,CAACC,IAAD,CAAOC,QAAP,CAAiBC,KAAjB,CAA2B,CAC9DzB,QAAQ,CAACS,QAAT,GACGC,GADH,kCACiCa,IADjC,aACyCC,QADzC,aACqDC,KADrD,GAEGd,GAFH,CAEO,IAFP,EAGAe,OAAO,CAACC,GAAR,CAAY,YAAZ,EACD,CALM,CAQP,MAAO,IAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAAC1B,KAAD,CAAW,CACpC,GAAME,CAAAA,YAAY,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAArB,CACAR,QAAQ,CAACS,QAAT,GACGC,GADH,WACUN,YADV,oBACiCF,KAAK,CAACC,EADvC,GAEGQ,GAFH,CAEOT,KAFP,EAGAwB,OAAO,CAACC,GAAR,CAAY,YAAZ,EACD,CANM,CAQP,MAAO,IAAME,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACC,QAAD,CAAc,CAC5C,GAAM1B,CAAAA,YAAY,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAArB,CACA,GAAIE,CAAAA,GAAG,CAAGV,QAAQ,CAACS,QAAT,GAAoBC,GAApB,CAAwBN,YAAY,CAAG,SAAvC,CAAV,CACAM,GAAG,CAACqB,EAAJ,CAAO,OAAP,CAAgB,SAACC,QAAD,CAAc,CAC5B,GAAMC,CAAAA,IAAI,CAAGD,QAAQ,CAACE,GAAT,EAAb,CACAJ,QAAQ,CAACG,IAAD,CAAR,CACD,CAHD,EAID,CAPM","sourcesContent":["import Firebase from \"firebase\";\n\n\nexport const saveNewComponentInDataBase = (owner, id) => {\n  const existingUser = JSON.parse(localStorage.getItem(\"logged_user\"));\n  Firebase.database().ref(existingUser + \"/owners/\" + id).set({\n    id: id,\n    civility: null,\n    lastname: null,\n    firstname: null,\n    isSociety: true,\n    socialIdentity: owner.socialIdentity,\n    address: {\n      postalCode: owner.postalCode,\n      city: owner.city,\n      street: owner.street,\n    },\n    isOwner: true,\n  })\n};\n\nexport const deleteValueInDataBase = (type, soustype, index) => {\n  Firebase.database()\n    .ref(`/stock/componentsStock/${type}/${soustype}/${index}`)\n    .set(null);\n  console.log(\"DATA SAVED\");\n};\n\n\nexport const updateOwner = (owner) => {\n  const existingUser = JSON.parse(localStorage.getItem(\"logged_user\"));\n  Firebase.database()\n    .ref(`${existingUser}/owners/${owner.id}`)\n    .set(owner);\n  console.log(\"DATA SAVED\");\n};\n\nexport const getOwnerDataBase = (callback) => {\n  const existingUser = JSON.parse(localStorage.getItem(\"logged_user\"));\n  let ref = Firebase.database().ref(existingUser + \"/owners\");\n  ref.on(\"value\", (snapshot) => {\n    const data = snapshot.val();\n    callback(data);\n  });\n};\n"]},"metadata":{},"sourceType":"module"}