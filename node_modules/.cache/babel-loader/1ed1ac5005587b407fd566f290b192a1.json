{"ast":null,"code":"import Firebase from \"firebase\";\nexport const saveNewComponentInDataBase = (owner, id) => {\n  const existingUser = JSON.parse(localStorage.getItem(\"logged_user\"));\n  Firebase.database().ref(existingUser + \"/owners/\" + id).set({\n    id: id,\n    civility: null,\n    lastname: null,\n    firstname: null,\n    isSociety: true,\n    socialIdentity: owner.socialIdentity,\n    address: {\n      postalCode: owner.postalCode,\n      city: owner.city,\n      street: owner.street\n    },\n    isOwner: true\n  });\n};\nexport const deleteValueInDataBase = (type, soustype, index) => {\n  Firebase.database().ref(`/stock/componentsStock/${type}/${soustype}/${index}`).set(null);\n  console.log(\"DATA SAVED\");\n};\nexport const updateOwner = owner => {\n  const existingUser = JSON.parse(localStorage.getItem(\"logged_user\"));\n  Firebase.database().ref(`${existingUser}/owners/${owner.id}`).set(owner);\n  console.log(\"DATA SAVED\");\n};\nexport const getOwnerDataBase = callback => {\n  const existingUser = JSON.parse(localStorage.getItem(\"logged_user\"));\n  let ref = Firebase.database().ref(existingUser + \"/owners\");\n  ref.on(\"value\", snapshot => {\n    const data = snapshot.val();\n    callback(data);\n  });\n};","map":{"version":3,"sources":["/Users/charlottecetre/Desktop/Macron business/src/request/ownerAPI.js"],"names":["Firebase","saveNewComponentInDataBase","owner","id","existingUser","JSON","parse","localStorage","getItem","database","ref","set","civility","lastname","firstname","isSociety","socialIdentity","address","postalCode","city","street","isOwner","deleteValueInDataBase","type","soustype","index","console","log","updateOwner","getOwnerDataBase","callback","on","snapshot","data","val"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,UAArB;AAIA,OAAO,MAAMC,0BAA0B,GAAG,CAACC,KAAD,EAAQC,EAAR,KAAe;AACvD,QAAMC,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAArB;AACAR,EAAAA,QAAQ,CAACS,QAAT,GAAoBC,GAApB,CAAwBN,YAAY,GAAG,UAAf,GAA4BD,EAApD,EAAwDQ,GAAxD,CAA4D;AAC1DR,IAAAA,EAAE,EAAEA,EADsD;AAE1DS,IAAAA,QAAQ,EAAE,IAFgD;AAG1DC,IAAAA,QAAQ,EAAE,IAHgD;AAI1DC,IAAAA,SAAS,EAAE,IAJ+C;AAK1DC,IAAAA,SAAS,EAAE,IAL+C;AAM1DC,IAAAA,cAAc,EAAEd,KAAK,CAACc,cANoC;AAO1DC,IAAAA,OAAO,EAAE;AACPC,MAAAA,UAAU,EAAEhB,KAAK,CAACgB,UADX;AAEPC,MAAAA,IAAI,EAAEjB,KAAK,CAACiB,IAFL;AAGPC,MAAAA,MAAM,EAAElB,KAAK,CAACkB;AAHP,KAPiD;AAY1DC,IAAAA,OAAO,EAAE;AAZiD,GAA5D;AAcD,CAhBM;AAkBP,OAAO,MAAMC,qBAAqB,GAAG,CAACC,IAAD,EAAOC,QAAP,EAAiBC,KAAjB,KAA2B;AAC9DzB,EAAAA,QAAQ,CAACS,QAAT,GACGC,GADH,CACQ,0BAAyBa,IAAK,IAAGC,QAAS,IAAGC,KAAM,EAD3D,EAEGd,GAFH,CAEO,IAFP;AAGAe,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD,CALM;AAQP,OAAO,MAAMC,WAAW,GAAI1B,KAAD,IAAW;AACpC,QAAME,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAArB;AACAR,EAAAA,QAAQ,CAACS,QAAT,GACGC,GADH,CACQ,GAAEN,YAAa,WAAUF,KAAK,CAACC,EAAG,EAD1C,EAEGQ,GAFH,CAEOT,KAFP;AAGAwB,EAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ;AACD,CANM;AAQP,OAAO,MAAME,gBAAgB,GAAIC,QAAD,IAAc;AAC5C,QAAM1B,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,CAArB;AACA,MAAIE,GAAG,GAAGV,QAAQ,CAACS,QAAT,GAAoBC,GAApB,CAAwBN,YAAY,GAAG,SAAvC,CAAV;AACAM,EAAAA,GAAG,CAACqB,EAAJ,CAAO,OAAP,EAAiBC,QAAD,IAAc;AAC5B,UAAMC,IAAI,GAAGD,QAAQ,CAACE,GAAT,EAAb;AACAJ,IAAAA,QAAQ,CAACG,IAAD,CAAR;AACD,GAHD;AAID,CAPM","sourcesContent":["import Firebase from \"firebase\";\n\n\n\nexport const saveNewComponentInDataBase = (owner, id) => {\n  const existingUser = JSON.parse(localStorage.getItem(\"logged_user\"));\n  Firebase.database().ref(existingUser + \"/owners/\" + id).set({\n    id: id,\n    civility: null,\n    lastname: null,\n    firstname: null,\n    isSociety: true,\n    socialIdentity: owner.socialIdentity,\n    address: {\n      postalCode: owner.postalCode,\n      city: owner.city,\n      street: owner.street,\n    },\n    isOwner: true,\n  })\n};\n\nexport const deleteValueInDataBase = (type, soustype, index) => {\n  Firebase.database()\n    .ref(`/stock/componentsStock/${type}/${soustype}/${index}`)\n    .set(null);\n  console.log(\"DATA SAVED\");\n};\n\n\nexport const updateOwner = (owner) => {\n  const existingUser = JSON.parse(localStorage.getItem(\"logged_user\"));\n  Firebase.database()\n    .ref(`${existingUser}/owners/${owner.id}`)\n    .set(owner);\n  console.log(\"DATA SAVED\");\n};\n\nexport const getOwnerDataBase = (callback) => {\n  const existingUser = JSON.parse(localStorage.getItem(\"logged_user\"));\n  let ref = Firebase.database().ref(existingUser + \"/owners\");\n  ref.on(\"value\", (snapshot) => {\n    const data = snapshot.val();\n    callback(data);\n  });\n};\n"]},"metadata":{},"sourceType":"module"}