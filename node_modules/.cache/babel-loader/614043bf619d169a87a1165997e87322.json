{"ast":null,"code":"var _jsxFileName = \"/Users/charlottecetre/Desktop/Macron business/src/views/Settings/Components/TemplateGenerator.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\nimport { Divider, Grid, Typography } from \"@material-ui/core\";\nimport { database } from \"firebase\";\nconst lastDay = {\n  janvier: 31,\n  fevrier: 28,\n  mars: 31,\n  avril: 30,\n  mai: 31,\n  juin: 30,\n  juillet: 31,\n  aout: 31,\n  septembre: 30,\n  octobre: 31,\n  novembre: 30,\n  decembe: 31\n};\nconst civilityTranslation = {\n  m: \"Monsieur\",\n  mme: \"Madame\"\n};\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(3),\n    margin: theme.spacing(2)\n  },\n  content: {\n    marginBottom: theme.spacing(2)\n  },\n  destinataire: {\n    display: \"row\",\n    textAlign: \"left\"\n  },\n  expediteur: {\n    textAlign: \"right\"\n  },\n  page: {\n    position: \"absolute\",\n    opacity: 0,\n    pointerEvents: \"none\",\n    fontSize: 30\n  },\n  pageBis: {\n    padding: 30,\n    fontSize: 20\n  },\n  divider: {\n    margin: 15,\n    backgroundColor: theme.palette.white\n  },\n  montant: {\n    width: \"50%\",\n    textAlign: \"left\"\n  }\n}));\n\nconst TemplateGenerator = ({\n  owner,\n  accomodation,\n  date,\n  display,\n  template,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const [dateReceipt, setDateReceipt] = useState({});\n  const [templateLocal, setTemplate] = useState({});\n\n  function calculateTotal() {\n    var numFixe = Number(accomodation.loyer.fixe);\n    var numCharges = Number(accomodation.loyer.charges);\n    var numTVA = accomodation.isCommercial == undefined ? Number(accomodation.loyer.tva) : 0;\n    return numFixe + numCharges + numTVA;\n  }\n\n  function change(textChange) {\n    var textTranslate = textChange.replace(\"[rent.civility]\", civilityTranslation[accomodation.rental.civility]).replace(\"[rent.firstname]\", accomodation.rental.firstname.toUpperCase()).replace(\"[rent.lastname]\", accomodation.rental.lastname.toUpperCase()).replace(\"[rent.city]\", accomodation.address.city.toUpperCase()).replace(\"[rent.street]\", accomodation.address.street.toUpperCase()).replace(\"[rent.postalCode]\", accomodation.address.postalCode.toUpperCase()).replace(\"[date.lastDay]\", lastDay[date.month]).replace(\"[date.month]\", date.month).replace(\"[date.year]\", date.year);\n    return textTranslate;\n  }\n\n  useEffect(() => {\n    setDateReceipt(date);\n  }, [date]);\n  useEffect(() => {\n    if (template.textBody !== undefined) {\n      var newTextBody = change(template.textBody);\n      var newTextStart = change(template.textStart || \"\");\n      var newTextEnd = change(template.textEnd || \"\");\n      setTemplate(test => ({ ...template,\n        textBody: newTextBody,\n        textStart: newTextStart,\n        textEnd: newTextEnd\n      }));\n    }\n  }, [template]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"divToPrint\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"divToPrint\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.pageBis,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.destinataire,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, !owner.isSociety ? owner.firstname.toUpperCase() + \" \" + owner.lastname.toUpperCase() : owner.socialIdentity)), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.destinataire,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 13\n    }\n  }, owner.address.street.toUpperCase())), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.destinataire,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, owner.address.postalCode.toUpperCase() + \" \" + owner.address.city.toUpperCase())), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.expediteur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, \" \", accomodation.rental.isParticulier ? accomodation.rental.firstname.toUpperCase() + \" \" + accomodation.rental.lastname.toUpperCase() : accomodation.rental.socialIdentity)), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.expediteur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }\n  }, accomodation.address.street.toUpperCase())), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.expediteur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, accomodation.address.postalCode.toUpperCase() + \" \" + accomodation.address.city.toUpperCase())), /*#__PURE__*/React.createElement(Divider, {\n    className: classes.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.destinataire,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, templateLocal.textStart), /*#__PURE__*/React.createElement(Divider, {\n    className: classes.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, civilityTranslation[accomodation.rental.civility], \",\"), /*#__PURE__*/React.createElement(Divider, {\n    className: classes.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 13\n    }\n  }, templateLocal.textBody)), /*#__PURE__*/React.createElement(Divider, {\n    className: classes.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.montant,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, \"Loyer :\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    className: classes.expediteur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 17\n    }\n  }, accomodation.loyer.fixe, \",00\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }, \"Provision sur charges :\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 3,\n    className: classes.expediteur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 17\n    }\n  }, accomodation.loyer.charges, \",00\")), !accomodation.isCommercial && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 21\n    }\n  }, \"TVA :\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    className: classes.expediteur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 21\n    }\n  }, \" \", accomodation.loyer.tva, \",00\"))), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 15\n    }\n  }), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    className: classes.expediteur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 15\n    }\n  }, \"------------\"), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 17\n    }\n  }, \"Total :\")), /*#__PURE__*/React.createElement(Grid, {\n    item: true,\n    xs: 6,\n    className: classes.expediteur,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 17\n    }\n  }, calculateTotal(), \",00\")))), /*#__PURE__*/React.createElement(Divider, {\n    className: classes.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classes.destinataire,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 13\n    }\n  }, \"Veuillez agr\\xE9er,\", \" \", civilityTranslation[accomodation.rental.civility], \", l'expression de mes sentiments distingu\\xE9s\", \" \")), /*#__PURE__*/React.createElement(Divider, {\n    className: classes.divider,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"letter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 11\n    }\n  }, templateLocal.textEnd))));\n};\n\nexport default TemplateGenerator;","map":{"version":3,"sources":["/Users/charlottecetre/Desktop/Macron business/src/views/Settings/Components/TemplateGenerator.js"],"names":["React","useState","useEffect","makeStyles","Divider","Grid","Typography","database","lastDay","janvier","fevrier","mars","avril","mai","juin","juillet","aout","septembre","octobre","novembre","decembe","civilityTranslation","m","mme","useStyles","theme","root","padding","spacing","margin","content","marginBottom","destinataire","display","textAlign","expediteur","page","position","opacity","pointerEvents","fontSize","pageBis","divider","backgroundColor","palette","white","montant","width","TemplateGenerator","owner","accomodation","date","template","rest","classes","dateReceipt","setDateReceipt","templateLocal","setTemplate","calculateTotal","numFixe","Number","loyer","fixe","numCharges","charges","numTVA","isCommercial","undefined","tva","change","textChange","textTranslate","replace","rental","civility","firstname","toUpperCase","lastname","address","city","street","postalCode","month","year","textBody","newTextBody","newTextStart","textStart","newTextEnd","textEnd","test","isSociety","socialIdentity","isParticulier"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/styles\";\n\nimport { Divider, Grid, Typography } from \"@material-ui/core\";\nimport { database } from \"firebase\";\n\nconst lastDay = {\n  janvier: 31,\n  fevrier: 28,\n  mars: 31,\n  avril: 30,\n  mai: 31,\n  juin: 30,\n  juillet: 31,\n  aout: 31,\n  septembre: 30,\n  octobre: 31,\n  novembre: 30,\n  decembe: 31,\n};\n\nconst civilityTranslation = {\n  m: \"Monsieur\",\n  mme: \"Madame\",\n};\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    padding: theme.spacing(3),\n    margin: theme.spacing(2),\n  },\n  content: {\n    marginBottom: theme.spacing(2),\n  },\n  destinataire: {\n    display: \"row\",\n    textAlign: \"left\",\n  },\n  expediteur: {\n    textAlign: \"right\",\n  },\n  page: {\n    position: \"absolute\",\n    opacity: 0,\n    pointerEvents: \"none\",\n    fontSize: 30,\n  },\n  pageBis: {\n    padding: 30,\n    fontSize: 20,\n  },\n  divider: {\n    margin: 15,\n    backgroundColor: theme.palette.white,\n  },\n  montant: {\n    width: \"50%\",\n    textAlign: \"left\",\n  },\n}));\n\nconst TemplateGenerator = ({\n  owner,\n  accomodation,\n  date,\n  display,\n  template,\n  ...rest\n}) => {\n  const classes = useStyles();\n  const [dateReceipt, setDateReceipt] = useState({});\n  const [templateLocal, setTemplate] = useState({});\n\n  function calculateTotal() {\n    var numFixe = Number(accomodation.loyer.fixe);\n    var numCharges = Number(accomodation.loyer.charges);\n    var numTVA =\n      accomodation.isCommercial == undefined\n        ? Number(accomodation.loyer.tva)\n        : 0;\n\n    return numFixe + numCharges + numTVA;\n  }\n\n  function change(textChange) {\n    var textTranslate = textChange\n      .replace(\n        \"[rent.civility]\",\n        civilityTranslation[accomodation.rental.civility]\n      )\n      .replace(\"[rent.firstname]\", accomodation.rental.firstname.toUpperCase())\n      .replace(\"[rent.lastname]\", accomodation.rental.lastname.toUpperCase())\n      .replace(\"[rent.city]\", accomodation.address.city.toUpperCase())\n      .replace(\"[rent.street]\", accomodation.address.street.toUpperCase())\n      .replace(\n        \"[rent.postalCode]\",\n        accomodation.address.postalCode.toUpperCase()\n      )\n      .replace(\"[date.lastDay]\", lastDay[date.month])\n      .replace(\"[date.month]\", date.month)\n      .replace(\"[date.year]\", date.year);\n\n    return textTranslate;\n  }\n\n  useEffect(() => {\n    setDateReceipt(date);\n  }, [date]);\n\n  useEffect(() => {\n    if (template.textBody !== undefined) {\n      var newTextBody = change(template.textBody);\n      var newTextStart = change(template.textStart || \"\");\n      var newTextEnd = change(template.textEnd || \"\");\n\n      setTemplate((test) => ({\n        ...template,\n        textBody: newTextBody,\n        textStart: newTextStart,\n        textEnd: newTextEnd,\n      }));\n    }\n  }, [template]);\n\n  return (\n    <div id=\"divToPrint\">\n      <div class=\"divToPrint\">\n        <div className={classes.pageBis}>\n          <div className={classes.destinataire}>\n            <Typography variant=\"letter\">\n              {!owner.isSociety\n                ? owner.firstname.toUpperCase() +\n                  \" \" +\n                  owner.lastname.toUpperCase()\n                : owner.socialIdentity}\n            </Typography>\n          </div>\n          <div className={classes.destinataire}>\n            <Typography variant=\"letter\">\n              {owner.address.street.toUpperCase()}\n            </Typography>\n          </div>\n          <div className={classes.destinataire}>\n            <Typography variant=\"letter\">\n              {owner.address.postalCode.toUpperCase() +\n                \" \" +\n                owner.address.city.toUpperCase()}\n            </Typography>\n          </div>\n          <div className={classes.expediteur}>\n            {\n              <Typography variant=\"letter\">\n                {\" \"}\n                {accomodation.rental.isParticulier\n                  ? accomodation.rental.firstname.toUpperCase() +\n                    \" \" +\n                    accomodation.rental.lastname.toUpperCase()\n                  : accomodation.rental.socialIdentity}\n              </Typography>\n            }\n          </div>\n          <div className={classes.expediteur}>\n            <Typography variant=\"letter\">\n              {accomodation.address.street.toUpperCase()}\n            </Typography>\n          </div>\n          <div className={classes.expediteur}>\n            <Typography variant=\"letter\">\n              {accomodation.address.postalCode.toUpperCase() +\n                \" \" +\n                accomodation.address.city.toUpperCase()}\n            </Typography>\n          </div>\n          <Divider className={classes.divider} />\n\n          <div className={classes.destinataire}>\n            <Typography variant=\"letter\">{templateLocal.textStart}</Typography>\n            <Divider className={classes.divider} />\n            <Typography variant=\"letter\">\n              {civilityTranslation[accomodation.rental.civility]},\n            </Typography>\n            <Divider className={classes.divider} />\n            <Typography variant=\"letter\">{templateLocal.textBody}</Typography>\n          </div>\n          <Divider className={classes.divider} />\n          <div className={classes.montant}>\n            <Grid container>\n              <Grid item xs={6}>\n                <Typography variant=\"letter\">Loyer :</Typography>\n              </Grid>\n              <Grid item xs={6} className={classes.expediteur}>\n                <Typography variant=\"letter\">\n                  {accomodation.loyer.fixe},00\n                </Typography>\n              </Grid>\n              <Grid item xs={9}>\n                <Typography variant=\"letter\">\n                  Provision sur charges :\n                </Typography>\n              </Grid>\n              <Grid item xs={3} className={classes.expediteur}>\n                <Typography variant=\"letter\">\n                  {accomodation.loyer.charges},00\n                </Typography>\n              </Grid>\n\n              {!accomodation.isCommercial && (\n                <>\n                  <Grid item xs={6}>\n                    <Typography variant=\"letter\">TVA :</Typography>\n                  </Grid>\n                  <Grid item xs={6} className={classes.expediteur}>\n                    <Typography variant=\"letter\">\n                      {\" \"}\n                      {accomodation.loyer.tva},00\n                    </Typography>\n                  </Grid>\n                </>\n              )}\n              <Grid item xs={6} />\n              <Grid item xs={6} className={classes.expediteur}>\n                ------------\n              </Grid>\n              <Grid item xs={6}>\n                <Typography variant=\"letter\">Total :</Typography>\n              </Grid>\n              <Grid item xs={6} className={classes.expediteur}>\n                <Typography variant=\"letter\">{calculateTotal()},00</Typography>\n              </Grid>\n            </Grid>\n          </div>\n          <Divider className={classes.divider} />\n          <div className={classes.destinataire}>\n            <Typography variant=\"letter\">\n              Veuillez agréer,{\" \"}\n              {civilityTranslation[accomodation.rental.civility]}, l'expression\n              de mes sentiments distingués{\" \"}\n            </Typography>\n          </div>\n          <Divider className={classes.divider} />\n          <Typography variant=\"letter\">{templateLocal.textEnd}</Typography>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default TemplateGenerator;\n"]},"metadata":{},"sourceType":"module"}